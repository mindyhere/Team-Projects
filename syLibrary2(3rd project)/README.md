# ğŸ“š 3rd/Semi project - ë„ì„œê´€ ì›¹v.2 Spring í”„ë¡œì íŠ¸
ë³¸ í”„ë¡œì íŠ¸ëŠ” êµ­ë¹„ì§€ì› í›ˆë ¨ê³¼ì • ì¤‘ ì§„í–‰í•œ ì„¸ë²ˆì§¸ íŒ€ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
<br/>
<br/>
<br/>
* * *
## ğŸ“‘ ëª©ì°¨
[__1. í”„ë¡œì íŠ¸ ê°œìš”__](#-í”„ë¡œì íŠ¸-ê°œìš”)
   - [ì£¼ì œ ë° ëª©í‘œ](#-ì£¼ì œ-ë°-ëª©í‘œ)
   - [íŒ€ êµ¬ì„± ë° ì‚¬ìš©ê¸°ìˆ ](#-íŒ€-êµ¬ì„±-ë°-ì‚¬ìš©ê¸°ìˆ )
<br/>
  
[__2. ì£¼ìš” ì—…ë°ì´íŠ¸ ì‚¬í•­__](#-ì£¼ìš”-ì—…ë°ì´íŠ¸-ì‚¬í•­)
   - [í‚¤ì›Œë“œ ìë™ì™„ì„±](#-í‚¤ì›Œë“œ-ìë™ì™„ì„±)
   - [ì¶”ì²œë„ì„œ íƒ­](#-ì¶”ì²œë„ì„œ-íƒ­)
   - [ë„ì„œê²€ìƒ‰](#-ë„ì„œê²€ìƒ‰)
   - [í¬ë§ë„ì„œ ì‹ ì²­](#-í¬ë§ë„ì„œ-ì‹ ì²­)
   - [ë„ì„œëŒ€ì¶œ ì‹ ì²­](#-ë„ì„œëŒ€ì¶œ-ì‹ ì²­)
<br/>
    
[__3. í”„ë¡œì íŠ¸ í›„ê¸° ë° ë°œí‘œìë£Œ__](#-í›„ê¸°)
<br/>
ğŸ”— [í”„ë ˆì  í…Œì´ì…˜ ìë£Œ](https://docs.google.com/presentation/d/1EiQ5zPQsIVHS_wUwzLL1DPvhh02L0ezI-vCAWCXQWTE/edit?usp=sharing)
<br/>
<br/>
<br/>

* * *

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”
#### ğŸ“… ê¸°ê°„
2024.04.01 ~ 2024.04.19 (3ì£¼)

- 1ì£¼ì°¨ : ê°œë³„ ë‹´ë‹¹ ì˜ì—­ ìŠ¤í”„ë§ í”„ë¡œì íŠ¸ë¡œ ë¦¬íŒ©í† ë§. 1ì°¨ ê¸°ëŠ¥ ì ê²€ í›„ ì¶”ê°€ê°œë°œ ìš”ì†Œ, ìˆ˜ì •ë³´ì™„ì‚¬í•­ ë“±ì„ ë°”íƒ•ìœ¼ë¡œ íšŒì˜ ì§„í–‰
- 2ì£¼ì°¨ : ì—ëŸ¬ ìˆ˜ì • ë° ê¸°ëŠ¥ ê°œì„ , ì¶”ê°€ ê¸°ëŠ¥ ê°œë°œ ì‘ì—… ì§„í–‰
- 3ì£¼ì°¨ : 2ì°¨ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ê°œë°œì‘ì—… ë§ˆë¬´ë¦¬. ë°œí‘œìë£Œ ì—…ë°ì´íŠ¸
<br/>

#### ğŸ– ì£¼ì œ ë° ëª©í‘œ
__[ì£¼ì œ]__
  - ë„ì„œê´€ ë° ë„ì„œí†µí•©ê´€ë¦¬ ì›¹
<br/>

__[ëª©í‘œ]__
1. 2ì°¨ í”„ë¡œì íŠ¸(ë„ì„œê´€ ì›¹ì‚¬ì´íŠ¸ JSP í”„ë¡œì íŠ¸)ë¥¼ Spring bootë¥¼ í™œìš©, MVC íŒ¨í„´ì— ê¸°ë°˜í•œ ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë¦¬íŒ©í† ë§	
2. í”„ë ˆì  í…Œì´ì…˜ ì´í›„ì˜ í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ ì¶”ê°€ê¸°ëŠ¥ ê°œë°œ ë° ê¸°ëŠ¥ ê°œì„ 
3. í˜‘ì—… íˆ´ë¡œì¨ Git, GitHub ë„ì…í•˜ì—¬ ê¸°ë³¸ ê°œë… ë° ëª…ë ¹ì–´ ìˆ™ì§€
<br/>

#### ğŸ‘¥ íŒ€ êµ¬ì„± ë° ì‚¬ìš©ê¸°ìˆ 
__[íŒ€ êµ¬ì„±]__
![team1](https://github.com/mindyhere/Team-Projects/assets/147589193/8228ab18-f06f-4fd4-a12b-ef42baccb520 "ê°œì¸ë³„êµ¬í˜„ê¸°ëŠ¥")
<br/>

__[ì‚¬ìš©ê¸°ìˆ  ë° ê°œë°œí™˜ê²½]__
- OS : Windows11
- Tools  :  Spring Tool Suite 4, SQL Developer, Git, GitHub
- Front-end  :  HTML/CSS, Javascript
- Back-end  :  JDK21, OracleDB 23.1.1, Spring Boot
- Library  :  Lombok 1.18.30, MyBatis 3.5.15, Json, Jquery 3.7.1, JSTL, Ajax, Bootstrap 5.3, Sweetalert2, Chart.js 4.4.0, Apache Tomcat 10.1.19
<br/>
<br/>
<br/>

* * *

## ğŸ™‹ğŸ»â€â™€ ì£¼ìš” ì—…ë°ì´íŠ¸ ì‚¬í•­
#### __ğŸª„ í‚¤ì›Œë“œ ìë™ì™„ì„±__
![autocomplete](https://github.com/mindyhere/Team-Projects/assets/147589193/99666fe1-5771-4cbb-92c2-cf7f9519a15f "autocomplete")

- JQueryì˜ autocomplete ê¸°ëŠ¥ì„ í™œìš©í•´ ê²€ìƒ‰ì–´ ìë™ì™„ì„± ê¸°ëŠ¥ ì¶”ê°€(ë„ì„œëª…, ì €ì, ì¶œíŒì‚¬ë¡œ ë¹ ë¥¸ ì¡°íšŒ ê°€ëŠ¥)
- ê¸°ë³¸ì œê³µ ë ˆì´ì•„ì›ƒì—ì„œ ì»¤ìŠ¤í…€í•˜ì—¬ ì™„ì„±
<details>
	<summary>ì½”ë“œë³´ê¸°</summary>

	```javascript
 	$("input[type='text']").autocomplete({  // í‚¤ì›Œë“œ ì…ë ¥ë€. jQueryì˜ autocompleteí•¨ìˆ˜ í™œìš©
		source: function (request, response) {
			$.ajax({
				url: "/user/search/autocomplete",  // ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì²˜ë¦¬
				data: {"keyword": $("#keyword").val()},
				success: function (data) {
					response(
						$.map(data.arrResult, function (item) {  // ì¡°íšŒ ê²°ê³¼ëª©ë¡ì„ jsoní˜•íƒœë¡œ ë°›ì•„ì™€ ì²˜ë¦¬
							return {
								label: item.RESULT,
								value: item.RESULT,
							};
						})
					);
				}
			});
		}, 
		focus: function(event, ui) {
			return false;
		},
		select: function(event, ui) {
		},
		minLength: 1,
		delay: 200,
		autuFocus: true
	});
 	```

	```java
 	// SearchController.java
 	@ResponseBody
	@RequestMapping("autocomplete")
	public Map<String, Object> autocomplete(@RequestParam(name = "keyword", defaultValue = "") String keyword) {
		Map<String, Object> params = new HashMap();
		List<Map<String, Object>> arrResult = new ArrayList<>();  // ê²°ê³¼ë°ì´í„°ë¥¼ ë‹´ì„ list ì„ ì–¸
		params.put("keyword", keyword);

		params.put("searchOpt", "B_NAME");
		arrResult.addAll(searchDao.autocomplete(params));  // í‚¤ì›Œë“œ:ë„ì„œëª…ìœ¼ë¡œ ì¡°íšŒ

		params.put("searchOpt", "B_AUTHOR");
		arrResult.addAll(searchDao.autocomplete(params));  // í‚¤ì›Œë“œ:ì €ìë¡œ ì¡°íšŒ

		params.put("searchOpt", "B_PUB");
		arrResult.addAll(searchDao.autocomplete(params));  // í‚¤ì›Œë“œ:ì¶œíŒì‚¬ë¡œ ì¡°íšŒ

		params.put("arrResult", arrResult);  // íŒŒë¼ë¯¸í„°ì— ë‹´ì•„ í™”ë©´ë‹¨ìœ¼ë¡œ ë°˜í™˜
		return params;
	}
 	```
</details> 
<br/>

#### __ğŸ– ì¶”ì²œë„ì„œ íƒ­__
![edit1](https://github.com/mindyhere/Team-Projects/assets/147589193/4ed58ced-dd68-45e6-987c-f9918b80bf90 "recommend")

- ëŒ€ì¶œì´ ë§ì€ ì±… : í…Œì´ë¸” ì™¸ë¶€ì¡°ì¸(ëŒ€ì¶œí…Œì´ë¸”, ì˜ˆì•½í…Œì´ë¸”)ê³¼ ë·°ë¥¼ í™œìš©í•´ ëŒ€ì¶œ ë˜ëŠ” ì˜ˆì•½ì´ ë§ì€ ìƒìœ„ 5ê¶Œì„ í˜ì´ì§€ì— ì¶œë ¥. SQLë¬¸ì„ ìˆ˜ì •í•˜ì—¬ ê°„ê²°í•œ êµ¬ì¡°ë¡œ ë³€ê²½
<details>
	<summary>ì½”ë“œë³´ê¸°</summary>
	
 	```OracleDB
	CREATE OR REPLACE VIEW recmd_pop
	as
	  select A.*
	  from (
		select l_bookid b_id,
		  count(l_bookid) cnt,
		  (select b_name from sl_book where b_id = l_bookid) b_name,
		  (select b_author from sl_book where b_id = l_bookid) b_author,
		  (select b_url from sl_book where b_id = l_bookid) b_url
		from lo_book l FULL OUTER JOIN re_book r
		ON L_BOOKID=R_BOOKID
		group by l_bookid
		order by cnt desc) A
	  where rownum <=5;
	  ```
</details>
<br/>

#### __ğŸ” ë„ì„œê²€ìƒ‰__
![search101](https://github.com/mindyhere/Team-Projects/assets/147589193/731cc866-8697-4eaf-bc0b-f3076118632d "í†µí•©ê²€ìƒ‰")

- ì‚¬ì´ë“œë°”ì—ì„œ ì§‘ê³„ê²°ê³¼ ì¬ê²€ìƒ‰ ì‹œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ ì—…ë°ì´íŠ¸
- ê¸°ì¡´ì— ê°œë³„í•¨ìˆ˜ë¡œ ë‚˜ëˆ„ì—ˆë˜ ê²ƒì„ switchë¬¸ì„ ì‚¬ìš©í•´ ê°„ì†Œí™” : í˜ì´ì§€ì´ë™, ê²°ê³¼ë³´ê¸° ë°©ì‹ì„ ëª¨ë‘ Ajaxë¡œ ì²˜ë¦¬í•˜ë©´ì„œ ê³¼ì •ì„ íŒŒì•…í•˜ê¸°ì— ì¢‹ì§€ ì•Šë‹¤ê³  íŒë‹¨í•˜ì˜€ê³ , í•´ë‹¹ ë¶€ë¶„ê³¼ ê´€ë ¨ëœ ì½”ë“œë¥¼ ê°„ì†Œí™”í•˜ì—¬ ë³´ë‹¤ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½
<details>
	<summary>ì½”ë“œë³´ê¸°</summary>
	
 	```javascript
	// searchResult.jsp
	function searchBy(page, searchOpt) {
		let keyword = $("input[name=keyword]").val();
		let view= $("input[name=viewOpt]:checked").val();
		let params, count, txt;
		
		switch (searchOpt) {
		case "name":
			count = ${cntRec.cntName};
			txt = "ê²°ê³¼ ë‚´ ê²€ìƒ‰ - <span>[ì œëª©]:"+keyword+"&nbsp;[ì €ì]:&nbsp;&nbsp;[ë°œí–‰ì²˜]:&nbsp;&nbsp;</span>ì— ëŒ€í•œ ê²€ìƒ‰ê²°ê³¼, ì´ <span>"+count+"</span> ê±´";
			params={"b_name":keyword, "searchOpt":searchOpt, "view":view, "count":count, "page":page};
			break;
		case "author":
			count=${cntRec.cntAuthor};
			txt = "ê²°ê³¼ ë‚´ ê²€ìƒ‰ - <span>[ì œëª©]:&nbsp;&nbsp;[ì €ì]:"+keyword+"&nbsp;[ë°œí–‰ì²˜]:&nbsp;&nbsp;</span>ì— ëŒ€í•œ ê²€ìƒ‰ê²°ê³¼, ì´ <span>"+count+"</span> ê±´";
			params={"b_author":keyword, "searchOpt":searchOpt, "view":view, "count":count, "page":page};
			break;
		case "pub":
			count=${cntRec.cntPub};
			txt = "ê²°ê³¼ ë‚´ ê²€ìƒ‰ - <span>[ì œëª©]:&nbsp;&nbsp;[ì €ì]:&nbsp;&nbsp;[ë°œí–‰ì²˜]:"+keyword+"&nbsp;</span>ì— ëŒ€í•œ ê²€ìƒ‰ê²°ê³¼, ì´ <span>"+count+"</span> ê±´";
			params={"b_pub":keyword, "searchOpt":searchOpt, "view":view, "count":count, "page":page};
			break;
		}
		
		if (count !== 0) {
			$("#text").html(txt);
			$.ajax({
				url:"/user/search/searchBy",
				data:params,
				success:function(result){
					$("#section-resultList").html(result);
				}
			});
		}
	}
 	```

  	```java
   	//SearchController.java
 	@RequestMapping("searchBy")
	public ModelAndView searchBy(@RequestParam(name = "searchOpt") String option,
			@RequestParam(name = "b_name", defaultValue = "") String b_name,
			@RequestParam(name = "b_author", defaultValue = "") String b_author,
			@RequestParam(name = "b_pub", defaultValue = "") String b_pub,
			@RequestParam(name = "view", defaultValue = "view1") String view,
			@RequestParam(name = "page", defaultValue = "1") int page, @RequestParam(name = "count") int count) {
		String resultPage = "";
  		// ê²°ê³¼ ë³´ê¸°ë°©ì‹ í˜ì´ì§€(í™”ë©´ë‹¨) ì„¤ì •
		if (view.equals("view1")) {
			resultPage = "/user/search/view1";
		} else if (view.equals("view2")) {
			resultPage = "/user/search/view2";
		}
		// í˜ì´ì§€ ë‚˜ëˆ„ê¸° ì ìš©
		PageUtil pageInfo = new PageUtil(count, page);
		int start = pageInfo.getPageBegin();
		int end = pageInfo.getPageEnd();

		List<BookDTO> list = searchDao.detailSearch(b_name, b_author, b_pub, start, end);
		ModelAndView mav = new ModelAndView();
		mav.setViewName(resultPage);
		mav.addObject("list", list);
		mav.addObject("stateinfo", searchDao.listState(list));
		mav.addObject("cntRec", searchDao.countRecords(b_name, b_author, b_pub));
		mav.addObject("count", count);
		mav.addObject("b_name", b_name);
		mav.addObject("b_author", b_author);
		mav.addObject("b_pub", b_pub);
		mav.addObject("page", pageInfo);
		mav.addObject("view", view);
		mav.addObject("option", option);
		return mav;
	}
   	```
 </details>
<br/>

#### __ğŸ“– í¬ë§ë„ì„œ ì‹ ì²­__
![request](https://github.com/mindyhere/Team-Projects/assets/147589193/ec6c32e5-bbc9-4c45-b67e-2b2f070c61d3 "í¬ë§ë„ì„œì‹ ì²­")

- ë„ì„œê´€ íšŒì›ìœ¼ë¡œë¶€í„° í¬ë§ë„ì„œë¥¼ ì‹ ì²­ë°›ëŠ” ê¸°ëŠ¥ ì¶”ê°€
- ì•Œë¼ë”˜ ë„ì„œê²€ìƒ‰ APIí™œìš©. íŒì—…ì°½ì—ì„œ ì›í•˜ëŠ” ë„ì„œ ê²€ìƒ‰ í›„ JSON ë°ì´í„°ë¥¼ input íƒœê·¸ì— ë‹´ì•„ ë¶€ëª¨ì°½(í¬ë§ë„ì„œ ì‹ ì²­ì„œ ì‘ì„± í˜ì´ì§€)ìœ¼ë¡œ ë°ì´í„° ì „ë‹¬
- ì •ìƒì²˜ë¦¬ ì‹œ í¬ë§ë„ì„œ í…Œì´ë¸”ì— ë°ì´í„° insert ë° ì‹ ì²­í˜„í™© í˜ì´ì§€ë¡œ ë§í¬ ì´ë™
<details>
	<summary>ì½”ë“œë³´ê¸°</summary>

	```javascript
 	// popup.jsp

	function bookInfo(success, data) {  // ì½œë°±í•¨ìˆ˜
		const items = data.item;
		let str = "";
		if (data.totalResults > 0) {
			for (i = 0; i < items.length; i++) {
				let title = (!items[i].title)? "-" : items[i].title;
				let cover = (!items[i].cover)? "-" : items[i].cover;
				let author = (!items[i].author)? "-" : items[i].author;
				let publisher = (!items[i].publisher)? "-" : items[i].publisher;
				let isbn13 = (!items[i].isbn13)? "-" : items[i].isbn13;
				let description = (!items[i].description)? "-" : modify(items[i].description);  // ì¤„ê±°ë¦¬ ì•ˆì˜ íŠ¹ìˆ˜ë¬¸ì ì²˜ë¦¬
				let pubDate = (!items[i].pubDate)? "-" : items[i].pubDate.substr(0, 4);  // ë°œí–‰ì¼ì—ì„œ ì—°ë„ë§Œ ê°€ì ¸ì™€ ì„¸íŒ…
				let categoryName = (!items[i].categoryName)? "-" : items[i].categoryName.split(">", 2);  // ë„ì„œë¶„ë¥˜ ì¤‘ ì„¸ë¶€ ë¶„ë¥˜ 1ê°œë§Œ ë½‘ì•„ì„œ ì„¸íŒ…
				let link = (!items[i].link)? "-" : items[i].link;
				
				let jsonArr = new Array();  // ê²°ê³¼ ë¦¬ìŠ¤íŠ¸
				jsonArr.push({
					"idx" : i + "",
					"h_name" : title,
					"h_url" : cover,
					"h_author" : author,
					"h_pub" : publisher,
					"h_isbn" : isbn13,
					"h_description" : description,
					"h_year" : pubDate,
					"h_category" : setCategoryName(categoryName),
					"h_link" : items[i].link
				});
				// console.log(jsonArr);
    				// íŒì—…ì°½ì— ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ ë°˜ë³µì²˜ë¦¬
				 // ê° ë„ì„œì •ë³´ë¥¼ jsonìœ¼ë¡œ ë¬¶ê³ , ìŠ¤íŠ¸ë§ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ input íƒœê·¸ì— ì €ì¥ - ê°œë³„í•­ëª© í´ë¦­ ì‹œ ë¶€ëª¨ì°½ì— ë„ì„œì •ë³´ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•¨
				str += "<tr><td><a href='#' onclick='confirm(" + i + ")'>"
						+ items[i].title + "</a><br>(" + items[i].author
						+ "&nbsp;|&nbsp;" + items[i].publisher + "&nbsp;|&nbsp;"
						+ items[i].pubDate.substr(0, 4) + ")<input id='" + i
						+ "' type='hidden' value='"
						+ JSON.stringify(jsonArr) + "'></td></tr>";
			}
		} else {
			Swal.fire({
				icon: "info",
				title: "Check!",
				html: "ì°¾ìœ¼ì‹œëŠ” ê²€ìƒ‰ê²°ê³¼ ì—†ìŠµë‹ˆë‹¤.<br>ê²€ìƒ‰ì–´ë¥¼ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ì£¼ì„¸ìš”.",
				confirmButtonText: "OK"
			});
		}
		$("#result").append(str);
	}

	function search() {  // ì•Œë¼ë”˜ ë„ì„œì •ë³´ ê²€ìƒ‰
		let keyword = $("#keyword").val();
	
		if (keyword.trim().length >= 2) {
			$('#result > tr > td').remove();
			let url = "http://www.aladin.co.kr/ttb/api/ItemSearch.aspx?ttbkey=ttbabout_kei2155001&Query="
					+ keyword
					+ "&QueryType=Keyword&&MaxResults=100&SearchTarget=Book&Sort=Title&cover=Big&output=js&callBack=bookInfo";
	
			$.ajax({
				url : url,
				async : false,
				dataType : "jsonp",
				jsonp : "bookInfo"
			});
		} else {
			Swal.fire({
				icon: "info",
				title: "Check!",
				html: "ê²€ìƒ‰ í‚¤ì›Œë“œëŠ” 2ê¸€ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.",
				confirmButtonText: "OK"
			});
		}
	}

	function confirm(i) {  // ë¶€ëª¨ì°½ìœ¼ë¡œ ì‹ ì²­ë„ì„œ ë°ì´í„°ë¥¼ ì „ë‹¬í•´ ë¿Œë ¤ì¤Œ
		const obj = JSON.parse(document.getElementById(i).value);
		const data = obj[0];
		
		opener.document.getElementById("h_url").src = data.h_url
		opener.document.getElementById("h_name").value = data.h_name
		opener.document.getElementById("h_author").value = data.h_author
		opener.document.getElementById("h_pub").value = data.h_pub
		opener.document.getElementById("h_year").value = data.h_year
		opener.document.getElementById("h_category").value = data.h_category
		opener.document.getElementById("data").value = document.getElementById(i).value
		window.close();
	}
 	```
</details>
<br/>

#### __ğŸ™‹ ë„ì„œëŒ€ì¶œ ì‹ ì²­__
![checkout1](https://github.com/mindyhere/Team-Projects/assets/147589193/0fa4eede-7b5f-4c99-af39-926bcad769b7 "ë„ì„œëŒ€ì¶œì‹ ì²­")

- ëŒ€ì¶œ ì‹ ì²­ìì˜ ë„ì„œëŒ€ì¶œ ê°€ëŠ¥ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê³¼ì •ê³¼ ê´€ë ¨ëœ í”„ë¡œì‹œì € ë° ì²˜ë¦¬ì½”ë“œ ê°œì„  ë° íšŒì› ë“±ê¸‰ë³„ ë„ì„œëŒ€ì¶œ ê¸°ì¤€ ë°˜ì˜
- ì˜ˆì•½ë„ì„œí™•ì¸ ë° ëŒ€ì¶œì‹ ì²­ ê´€ë ¨ ê¸°ëŠ¥ ê°œì„ 
  <details>
	<summary>ì½”ë“œë³´ê¸°</summary>

	```java
 	// CheckoutController.java
 	@GetMapping("{b_id}")
	public String checkMloan(@PathVariable(name = "b_id") int b_id, HttpSession session) {
		String m_id = (String) session.getAttribute("mId");
		Map<String, Object> param = new HashMap();
		param.put("userid", m_id);
		checkoutDao.checkMloan(param);  // ì‹ ì²­ìì˜ ë„ì„œëŒ€ì¶œ ê°€ëŠ¥ì—¬ë¶€ í™•ì¸ : í”„ë¡œì‹œì € ì‹¤í–‰ í›„ ë°˜í™˜ê°’(1=ëŒ€ì¶œê°€ëŠ¥ìƒíƒœ/0=ëŒ€ì¶œë¶ˆê°€ìƒíƒœ)ì´ íŒŒë¼ë¯¸í„°ì— ì €ì¥ë¨

		String resultPage = "";
		switch (param.get("p_result").toString()) {
		case "1":  // ëŒ€ì¶œê°€ëŠ¥ ìƒíƒœì¼ ê²½ìš°,
			Map<String, Object> map = new HashMap<>();
			map.put("m_id", m_id);
			map.put("b_id", b_id);
			int result = checkoutDao.duplicate(map) > 0 ? 0 : 1;  // ì¤‘ë³µì‹ ì²­ì¸ì§€ ê²€ì‚¬
			if (checkoutDao.duplicate(map) > 0) {
				resultPage = "redirect:fail";
			} else {
				resultPage = "redirect:" + b_id + "/insert";
			}
			break;
		case "0":  // ëŒ€ì¶œë¶ˆê°€ ìƒíƒœì¼ ê²½ìš°,
			resultPage = "redirect:fail";
			break;
		}
		return resultPage;
	}

	@Transactional
	@ResponseBody
	@GetMapping("{b_id}/insert")  // ëŒ€ì¶œí…Œì´ë¸”ì— insert ì²˜ë¦¬
	public String insert(@PathVariable(name = "b_id") int b_id, HttpSession session) {
		String m_id = (String) session.getAttribute("mId");
		Map<String, Object> map = new HashMap<>();
		map.put("m_id", m_id);
		map.put("b_id", b_id);
		checkoutDao.insert(map); 
		String result = "ì‹ ì²­ì™„ë£Œ";
		return result;
	}
 	```
</details>
<br/>
<br/>
<br/>

* * *
 
## ğŸ“ í›„ê¸°
#### __ğŸ› ï¸ í”¼ë“œë°± ë°˜ì˜ ë° ê°œì„ ì‚¬í•­__
- ê¸°ê°„ë¶€ì¡±ìœ¼ë¡œ ê¸°ì¡´ì— êµ¬í˜„í•˜ì§€ ëª»í–ˆë˜ ê²€ìƒ‰ì–´ ìë™ì™„ì„± ê¸°ëŠ¥ ì¶”ê°€
- í¬ë§ë„ì„œì™€ ê´€ë ¨ëœ ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„ â–¶ ì˜¤í”ˆAPIì˜ ì ìš© ë° ì´ìš©ìëŠ” í¬ë§ë„ì„œ ì‹ ì²­ ë° ì·¨ì†Œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê³ , ê´€ë¦¬ìëŠ” ì´ìš©ìê°€ ì‹ ì²­í•œ í¬ë§ë„ì„œì˜ ìƒíƒœë¥¼ ë³€ê²½ ê°€ëŠ¥í•˜ë„ë¡ ì¶”ê°€ ê¸°ëŠ¥ ê°œë°œì™„ë£Œ
- Gitì„ ë„ì…í•¨ìœ¼ë¡œì¨ í˜‘ì—… í™˜ê²½ì— ì ì‘í•˜ê³  ë²„ì „ê´€ë¦¬ ë° ìƒí˜¸ê°„ì˜ ì‘ì—… ì§„í–‰í˜„í™©ì„ ê³µìœ í•˜ê¸°ê°€ ìš©ì´
<br/>
